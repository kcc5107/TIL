# TIL: 트랜잭션 전파

## 트랜잭션 프록시의 핵심 정리

1. Spring은 클래스 단위로 프록시 객체를 한 번 생성하고, 해당 클래스의 `@Transactional` 메서드를 프록시가 감싼다.  
   
2. `@Transactional`이 제대로 적용되려면, 메서드가 프록시 객체를 통해 호출되어야 한다.  
즉, Spring이 주입한 빈을 통해 호출되는 경우가 해당됨.  

3. 같은 클래스 내에서 자기 자신의 `@Transactional` 메서드를 호출하면, 프록시가 개입하지 않기 때문에  
트랜잭션 설정(`@Transactional`, 전파 등)은 무시된다.

4. 다른 클래스(다른 빈)에서 해당 `@Transactional` 메서드를 호출하면,  
Spring이 생성한 프록시를 거치기 때문에 트랜잭션 설정이 정상 작동한다.

### 짧게 요약  
`@Transactional`은 프록시 객체를 통해 호출될 때만 동작함.  
자기 자신 메서드 간 호출은 프록시를 거치지 않아 트랜잭션이 무시됨.  
Spring이 **의존성 주입한 다른 클래스**(빈)에서 호출해야 제대로 작동  
